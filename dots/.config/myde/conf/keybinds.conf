#   _  __          ____  _           _
#  | |/ /___ _   _| __ )(_)_ __   __| |___
#  | ' // _ \ | | |  _ \| | '_ \ / _` / __|
#  | . \  __/ |_| | |_) | | | | | (_| \__ \
#  |_|\_\___|\__, |____/|_|_| |_|\__,_|___/
#          |___/
#
#  MyDE KeyBoard Shortcuts & gestures Configuration


# =============== Settings ================

# https://wiki.hypr.land/Configuring/Variables/#binds

#   ================= Keys ===================

$mainMod = SUPER     # Main Super Key
$pgUp    = Prior     # Page Up
$pgDp    = Next      # Page Down

$LMB = mouse:272     # Left Mouse Button
$RMB = mouse:273     # Right Mouse Button

$numPad_0 = code:90  # Number pad `0` key

# HomeRow Mods (TODO)
# https://precondition.github.io/home-row-mods#what-are-home-row-mods
$homerow_mod_1 = A
$homerow_mod_2 = S
$homerow_mod_3 = D
$homerow_mod_4 = F


$logout_cmd  = uwsm stop
$bprvt_flag  = --private-window --incognito

$tui_fmgr = -c $tui_file_manager -t "$terminal" -e $tui_file_manager


# ============ Essentials ============

bind = $mainMod,     Q,    killactive                              # Quit Active Window
bind = $mainMod,     X,    exec,  $power_menu                      # Open Power Menu
bind = $mainMod,   slash,  exec,  myctl show keybinds             # Open Keybinds Help
bind = $mainMod,   Delete, exec,  $logout_cmd                      # Logout User
# bind = $mainMod,   k,      togglekeyboardlayout                  # Toggle Keyboard Layout


# ================ Apps ====================

bind = $mainMod, SPACE,      exec,   $app_launcher                 # Open App Launcher
bind = $mainMod SHIFT,SPACE, exec,   $app_drawer                   # Open App Drawer
bind = $mainMod,   V,        exec,   $clipboard_manager            # Open Clipboard

bind = $mainMod, RETURN,   exec,   $terminal                       # Open Terminal

bind = $mainMod,   W,      exec,   $web_browser                    # Open Web Browser
bind = $mainMod  SHIFT,W,  exec,   $web_browser $bprvt_flag        # Open Web Browser (Private Window)

bind = $mainMod,   E,      exec,   $file_manager                   # Open GUI File Manager
bind = $mainMod  SHIFT,E,  exec,   $tui_app $tui_fmgr              # Open TUI File Manager


# ================= ScreenShot ====================

$ss_cptr_cmd  =  grimblast --freeze save
$ss_file_path =  $ss_save_path/$ss_file_name.png
$ss_edit_cmd  =  satty --filename - --output-filename $ss_file_path

bind = ,              Print,  exec,   $ss_cptr_cmd area   - | $ss_edit_cmd    # Screen-Shot selection/window
bind = $mainMod,      Print,  exec,   $ss_cptr_cmd screen - | $ss_edit_cmd    # Screen-Shot entire screen
bind = $mainMod CTRL, Print,  exec,   $ss_cptr_cmd active - | $ss_edit_cmd    # Screen-Shot active window


# ================ Window Management ================

# --- Toggle Floating ----
bind = $mainMod,  F,  togglefloating,     # Toggle Float for active window

# --- Open window list ----
bind = ALT,TAB, exec, vicinae vicinae://extensions/vicinae/wm/switch-windows

# ------- Move Focus --------
bind = $mainMod,  K,  movefocus, u          # Move focus to ABOVE window
bind = $mainMod,  J,  movefocus, d          # Move focus to BELOW window
bind = $mainMod,  H,  movefocus, l          # Move focus to LEFT window
bind = $mainMod,  L,  movefocus, r          # Move focus to RIGHT window

# ------- Move Window --------
bind = $mainMod SHIFT,  K,  movewindow, u      # Move active window UpWards
bind = $mainMod SHIFT,  J,  movewindow, d      # Move active window DownWards
bind = $mainMod SHIFT,  H,  movewindow, l      # Move active window Left
bind = $mainMod SHIFT,  L,  movewindow, r      # Move active window Right

bindm = $mainMod, $LMB, movewindow		  # Drag window

# ------- Resize Window --------

# Using Mouse
bindm = $mainMod, $RMB, resizewindow	     # Resize the window towards a direction

# Using Submap
bind = $mainMod, R, submap, Resize Window    # Enter SubMap Resize Window
submap = Resize Window
binde = , k,      resizeactive, 0 -15        # Resize active window UpWards
binde = , j,      resizeactive, 0 15         # Resize active window DownWards
binde = , h,      resizeactive, -15 0        # Resize active window Left
binde = , l,      resizeactive, 15 0         # Resize active window Right
bind = , escape,  submap, reset              # Escape SubMap
submap = reset

# Using standalone keybinds
binde = $mainMod CTRL,  K,  resizeactive, 0 -15     # Resize active window UpWards
binde = $mainMod CTRL,  J,  resizeactive, 0 15      # Resize active window DownWards
binde = $mainMod CTRL,  H,  resizeactive, -15 0     # Resize active window Left
binde = $mainMod CTRL,  L,  resizeactive, 15 0      # Resize active window Right


# ------- Fullscreen --------
bind = $mainMod, F11, fullscreen, 0           # Toggle fullscreen

# bind = $mainMod,  s,  togglesplit,          # Toggle split view (dwindle)
bind = $mainMod, $pgUp, pin,                  # Pin Floating window to all workspaces


# ================= Grouping Windows =================

bind = $mainMod,         G,   togglegroup,           # Toggle window group
bind = $mainMod,        Tab,  changegroupactive, f   # Focus next window in group
bind = $mainMod SHIFT,  Tab,  changegroupactive, r   # Focus previous window in group


# ================ Workspace Management ===============

# ------- Switch to Workspace [0-9] --------
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# ------ Switch to =1/-1 workspace ------
bind = $mainMod,  period,    workspace, e+1
bind = $mainMod, mouse_down, workspace, e+1

bind = $mainMod, comma,    workspace, e-1
bind = $mainMod, mouse_up, workspace, e-1

# ----- Move window to +1/-1 workspace -------
bind = $mainMod SHIFT, comma,  movetoworkspace, -1
bind = $mainMod SHIFT, period, movetoworkspace, +1

# ---- Move window to  workspace [1-9] ---
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# - Move window to  workspace [1-9] silently -
bind = $mainMod ALT, 1, movetoworkspacesilent, 1
bind = $mainMod ALT, 2, movetoworkspacesilent, 2
bind = $mainMod ALT, 3, movetoworkspacesilent, 3
bind = $mainMod ALT, 4, movetoworkspacesilent, 4
bind = $mainMod ALT, 5, movetoworkspacesilent, 5
bind = $mainMod ALT, 6, movetoworkspacesilent, 6
bind = $mainMod ALT, 7, movetoworkspacesilent, 7
bind = $mainMod ALT, 8, movetoworkspacesilent, 8
bind = $mainMod ALT, 9, movetoworkspacesilent, 9
bind = $mainMod ALT, 0, movetoworkspacesilent, 10

# ----- Special Wrokspace ------
bind = $mainMod, S,       togglespecialworkspace, special       # Toggle special workspace
bind = $mainMod SHIFT, S, movetoworkspace, special              # Move window to special workspace


# ================== Volume Control ==================

bindel = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5% && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{if($1>100) system("pactl set-sink-volume @DEFAULT_SINK@ 100%")}' && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{print $1}' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob # Raise Volume
bindel = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5% && pactl get-sink-volume @DEFAULT_SINK@ | grep -oP '\d+(?=%)' | awk '{print $1}' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob # Lower Volume
bindel = , XF86AudioMute,        exec, amixer sset Master toggle | sed -En '/\[on\]/ s/.*\[([0-9]+)%\].*/\1/ p; /\[off\]/ s/.*/0/p' | head -1 > /tmp/$HYPRLAND_INSTANCE_SIGNATURE.wob	#Mutes player audio


# ================= Playback Control =================

bind = ,   XF86AudioPlay,  exec,   playerctl play-pause
bind = ,   XF86AudioNext,  exec,   playerctl next
bind = ,   XF86AudioPrev,  exec,   playerctl previous


# ================ Screen Brightness =================

bindel = , XF86MonBrightnessUp,   exec,  brightnessctl s +5% 	#Increases brightness 5%
bindel = , XF86MonBrightnessDown, exec,  brightnessctl s 5%- 	#Decreases brightness 5%


# ================ Performance Control =================

bind = $mainMod, F3, exec, myctl show performance       # Show performance profile selector


# ================ Workspace Actions =================

# bindd = $mainMod, slash, Switch to the previous workspace, workspace, previous
# Special workspaces (scratchpads)
